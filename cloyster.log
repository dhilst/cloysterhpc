[2021-11-24 23:53:49.917] CloysterHPC Started
/usr/local/include/fmt/core.h:1491:22: runtime error: member call on address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:1491:22 in 
/usr/local/include/fmt/format.h:580:5: runtime error: member call on address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:580:5 in 
/usr/local/include/fmt/format.h:580:17: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:580:17 in 
/usr/local/include/fmt/core.h:817:24: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:817:24 in 
/usr/local/include/fmt/format.h:581:21: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:581:21 in 
/usr/local/include/fmt/format.h:581:33: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:581:33 in 
/usr/local/include/fmt/format.h:583:58: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:583:58 in 
/usr/local/include/fmt/format.h:583:65: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:583:65 in 
/usr/local/include/fmt/format.h:584:5: runtime error: member access within address 0x7ff7b31698f8 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b31698f8: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 70 61 00 00  c0 22 c8 0d 01 00 00 00  18 99 16 b3 f7 7f 00 00  00 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:584:5 in 
[2021-11-24 23:53:54.342] Dump cluster data:
Cluster attributes defined:
Timezone: America/Sao_Paulo
Locale: en_US.UTF-8
Hostname: headnode
DomainName: cluster.example.tld
FQDN: headnode.cluster.example.tld
[2021-11-24 23:53:54.342] Dump network data:
/usr/local/include/fmt/format.h:387:19: runtime error: member call on address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:387:19 in 
/usr/local/include/fmt/core.h:791:53: runtime error: member access within address 0x7ff7b316a038 which does not point to an object of type 'const fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:791:53 in 
/usr/local/include/fmt/format.h:388:11: runtime error: member call on address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:388:11 in 
/usr/local/include/fmt/core.h:794:57: runtime error: member access within address 0x7ff7b316a038 which does not point to an object of type 'const fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:794:57 in 
/usr/local/include/fmt/format.h:389:7: runtime error: member call on address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:389:7 in 
/usr/local/include/fmt/core.h:808:5: runtime error: member call on address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:808:5 in 
/usr/local/include/fmt/core.h:809:22: runtime error: member access within address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:809:22 in 
/usr/local/include/fmt/core.h:809:5: runtime error: member access within address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  14 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:809:5 in 
/usr/local/include/fmt/format.h:390:14: runtime error: member call on address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  15 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/format.h:390:14 in 
/usr/local/include/fmt/core.h:797:43: runtime error: member access within address 0x7ff7b316a038 which does not point to an object of type 'fmt::detail::buffer<char>'
0x7ff7b316a038: note: object is of type 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
 00 00 00 00  c0 22 c8 0d 01 00 00 00  58 a0 16 b3 f7 7f 00 00  15 00 00 00 00 00 00 00  f4 01 00 00
              ^~~~~~~~~~~~~~~~~~~~~~~
              vptr for 'fmt::v8::basic_memory_buffer<char, 500ul, std::__1::allocator<char> >'
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /usr/local/include/fmt/core.h:797:43 in 
Management Network [0]
Address: 192.2.0.0
Subnet Mask: 255.255.255.192
Gateway 192.2.0.1
VLAN 0
Domain Name: example.com
Nameserver [0]: 1.1.1.1
Nameserver [1]: 208.67.222.222

Management Network [0]
Address: 10.0.0.0
Subnet Mask: 255.0.0.0
Gateway 0.0.0.0
VLAN 0
Domain Name: cluster.example.com
Nameserver [0]: 10.255.255.254

Management Network [0]
Address: 172.16.0.0
Subnet Mask: 255.255.0.0
Gateway 0.0.0.0
VLAN 0
Domain Name: srv.cluster.example.com
Nameserver [0]: 172.16.255.254
Management Network [1]
Address: 172.24.0.0
Subnet Mask: 255.255.0.0
Gateway 0.0.0.0
VLAN 0
Domain Name: srv2.cluster.example.com
Nameserver [0]: 1.1.1.1
Nameserver [1]: 172.24.0.1

Management Network [0]
Address: 192.168.0.0
Subnet Mask: 255.255.255.0
Gateway 0.0.0.0
VLAN 0
Domain Name: ib.cluster.example.com
Nameserver [0]: 0.0.0.0
Management Network [1]
Address: 192.168.1.0
Subnet Mask: 255.255.255.0
Gateway 0.0.0.0
VLAN 4094
Domain Name: ib2.cluster.example.com
Nameserver [0]: 0.0.0.0

Provisioner: 0
xCATDynamicRangeStart: 192.168.20.1
xCATDynamicRangeEnd: 192.168.20.254
Directory Admin Password: pwdAdmin
Directory Manager Password: pwdManager
Directory Disable DNSSEC: true
nodePrefix: n
nodePadding: 2
nodeStartIP: 172.26.0.1
nodeRootPassword: pwdNodeRoot
nodeISOPath: "/root/OracleLinux-R8-U5-x86_64-dvd.iso"
Update system: true
Remote access: true
Firewall: true
SELinux: 2
[2021-11-24 23:53:54.350] exec: setenforce 0
[2021-11-24 23:53:54.352] exec: systemctl enable --now firewalld
[2021-11-24 23:53:54.352] exec: hostnamectl set hostname headnode.cluster.example.tld
[2021-11-24 23:53:54.353] exec: timedatectl set timezone America/Sao_Paulo
[2021-11-24 23:53:54.354] exec: localectl set locale en_US.UTF-8
[2021-11-24 23:53:54.354] exec: systemctl enable --now NetworkManager
[2021-11-24 23:53:54.354] exec: nmcli device set en1 managed yes
[2021-11-24 23:53:54.354] exec: nmcli device set en1 autoconnect yes
[2021-11-24 23:53:54.354] exec: nmcli device connect en1
[2021-11-24 23:53:54.356] exec: nmcli connection add con-name Management ifname en1 type Ethernet mtu 1500 ipv4.method manual ipv4.address 10.1.1.7/8 ipv4.gateway 0.0.0.0 ipv4.dns "10.255.255.254" ipv4.dns-search cluster.example.com ipv6.method disabled
[2021-11-24 23:53:54.356] exec: nmcli device set en1 managed yes
[2021-11-24 23:53:54.356] exec: nmcli device set en1 autoconnect yes
[2021-11-24 23:53:54.356] exec: nmcli device connect en1
[2021-11-24 23:53:54.358] exec: nmcli connection add con-name Service ifname en1 type Ethernet mtu 1500 ipv4.method manual ipv4.address 192.168.22.8/16 ipv4.gateway 0.0.0.0 ipv4.dns "172.16.255.254" ipv4.dns-search srv.cluster.example.com ipv6.method disabled
[2021-11-24 23:53:54.358] exec: systemctl restart NetworkManager
[2021-11-24 23:53:54.358] exec: dnf -y update
[2021-11-24 23:53:54.358] exec: rpm -q chrony
[2021-11-24 23:53:54.360] exec: systemctl enable --now chronyd
[2021-11-24 23:53:54.360] exec: dnf -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
[2021-11-24 23:53:54.360] exec: dnf -y install https://repos.openhpc.community/OpenHPC/2/CentOS_8/x86_64/ohpc-release-2-1.el8.x86_64.rpm
[2021-11-24 23:53:54.360] exec: dnf config-manager --set-enabled ol8_codeready_builder
[2021-11-24 23:53:54.360] exec: dnf -y update
[2021-11-24 23:53:54.360] exec: dnf -y install wget dnf-plugins-core
[2021-11-24 23:53:54.360] exec: dnf -y install ohpc-base
[2021-11-24 23:53:54.360] exec: dnf -y groupinstall "Infiniband Support"
[2021-11-24 23:53:54.360] exec: exportfs -a
[2021-11-24 23:53:54.360] exec: systemctl enable --now nfs-server
[2021-11-24 23:53:54.361] exec: dnf -y install ohpc-slurm-server
[2021-11-24 23:53:54.361] exec: cp /etc/slurm/slurm.conf.ohpc /etc/slurm/slurm.conf
[2021-11-24 23:53:54.361] exec: perl -pi -e "s/ControlMachine=\S+/ControlMachine=headnode.cluster.example.tld/" /etc/slurm/slurm.conf
[2021-11-24 23:53:54.361] exec: systemctl enable --now munge
[2021-11-24 23:53:54.361] exec: systemctl enable --now slurmctld
[2021-11-24 23:53:54.361] exec: dnf -y install ohpc-autotools hwloc-ohpc spack-ohpcvalgrind-ohpc
[2021-11-24 23:53:54.361] exec: dnf -y install openmpi4-gnu9-ohpc mpich-ofi-gnu9-ohpcmpich-ucx-gnu9-ohpc mvapich2-gnu9-ohpc
[2021-11-24 23:53:54.361] exec: dnf -y install lmod-defaults-gnu9-openmpi4-ohpc
[2021-11-24 23:53:54.361] exec: wget -P /etc/yum.repos.d https://xcat.org/files/xcat/repos/yum/latest/xcat-core/xcat-core.repo
[2021-11-24 23:53:54.361] exec: wget -P /etc/yum.repos.d https://xcat.org/files/xcat/repos/yum/devel/xcat-dep/rh8/x86_64/xcat-dep.repo
[2021-11-24 23:53:54.362] exec: dnf -y install xCAT
[2021-11-24 23:53:54.362] exec: chdef -t site dhcpinterfaces="xcatmn|en1"
[2021-11-24 23:53:54.362] exec: chdef -t site domain=cluster.example.tld
[2021-11-24 23:53:54.362] exec: copycds /root/OracleLinux-R8-U5-x86_64-dvd.iso
[2021-11-24 23:53:54.367] exec: chdef -t osimage ol8.5.0-x86_64-netboot-compute --plus otherpkglist=/install/custom/netboot/compute.pkglist
[2021-11-24 23:53:54.367] exec: chdef -t osimage ol8.5.0-x86_64-netboot-compute --plus postinstall=/install/custom/netboot/compute.postinstall
[2021-11-24 23:53:54.368] exec: chdef -t osimage ol8.5.0-x86_64-netboot-compute --plus synclists=/install/custom/netboot/compute.synclists
[2021-11-24 23:53:54.369] exec: chdef -t osimage ol8.5.0-x86_64-netboot-compute --plus otherpkgdir=https://yum.oracle.com/repo/OracleLinux/OL8/baseos/latest/x86_64,https://yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64,https://yum.oracle.com/repo/OracleLinux/OL8/codeready/builder/x86_64,https://yum.oracle.com/repo/OracleLinux/OL8/UEKR6/x86_64,https://download.fedoraproject.org/pub/epel/8/Everything/x86_64,https://repos.openhpc.community/OpenHPC/2/CentOS_8,https://repos.openhpc.community/OpenHPC/2/updates/CentOS_8
[2021-11-24 23:53:54.369] exec: genimage ol8.5.0-x86_64-netboot-compute
[2021-11-24 23:53:54.369] exec: chroot /install/netboot/ol8.5.0/x86_64/compute/rootimg chown munge:munge /var/lib/munge
[2021-11-24 23:53:54.370] exec: chroot /install/netboot/ol8.5.0/x86_64/compute/rootimg chown munge:munge /etc/munge
[2021-11-24 23:53:54.370] exec: packimage ol8.5.0-x86_64-netboot-compute
[2021-11-24 23:53:54.371] exec: mkdef -f -t node n01 arch=x86_64 ip=192.168.0.1 mac=aa:bb:cc:11:22:33 bmc=192.168.1.1 bmcusername=ADMIN bmcpassword=ADMIN mgt=ipmi cons=ipmi serialport=0 serialspeed=115200 groups=compute,all netboot=xnba
[2021-11-24 23:53:54.372] exec: mkdef -f -t node n02 arch=x86_64 ip=192.168.0.2 mac=aa:ff:dc:22:da:cd bmc=192.168.1.2 bmcusername=root bmcpassword=calvin mgt=ipmi cons=ipmi serialport=0 serialspeed=115200 groups=compute,all netboot=xnba
[2021-11-24 23:53:54.372] exec: makehosts
[2021-11-24 23:53:54.372] exec: makedhcp -n
[2021-11-24 23:53:54.372] exec: makedns -n
[2021-11-24 23:53:54.372] exec: makegocons
[2021-11-24 23:53:54.372] exec: nodeset compute osimage=ol8.5.0-x86_64-netboot-compute
[2021-11-24 23:53:54.372] exec: nodeset compute osimage=ol8.5.0-x86_64-netboot-compute
[2021-11-24 23:53:54.372] CloysterHPC is ending
